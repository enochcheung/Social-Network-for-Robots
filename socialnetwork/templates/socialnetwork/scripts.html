{% extends "socialnetwork/base.html" %}

{% block content %}
<style type="text/css" media="screen">
    #editor{
      height: 300px;
    }
  </style>


<div class="centered-content">

<h1>Your Scripts</h1>

<form action="{% url 'scripts' %}" id="script-form" method="POST">
{% for field,errors in form.errors.items %}
{% if field != '__all__' %}
<div class="alert alert-danger" role="alert">
<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
<span class="sr-only">Error:</span>
      {{ field }}
      {{ errors }}
</div>
{% endif %}
{% endfor %}

{% for error in form.non_field_errors %}
<div class="alert alert-danger" role="alert">
<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
<span class="sr-only">Error:</span>
      {{ error }}
</div>
{% endfor %}


<div class="form-group">
  <label for="script_code">{{ form.code.label }}</label>
  <input type="hidden" 
    id="script_code" 
    class="form-control" 
    name="{{ form.code.html_name }}" 
  >

  <pre id="editor">{{form.code.value}}</pre>
</div>

{{form.on_post_active}}
{% csrf_token %}

<button type="submit" class="btn btn-default">Save</button>
</form>



</div>


{% load staticfiles %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.8/ace.js"></script>
<script src="{% static "socialnetwork/js/scripting.js" %}"></script>

{% endblock %}